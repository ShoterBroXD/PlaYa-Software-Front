<div class="container">
  <h2>Restablecer contraseña</h2>
  <div class="box">
    <p>Ingrese el código recibido y su nueva contraseña.</p>
    <input type="text" placeholder="Código recibido" [(ngModel)]="token" />
    <label for="nuevaContra">Nueva Contraseña</label>
    <input type="password" id="nuevaContra" [(ngModel)]="nuevaContra" />
    <label for="confirmarContra">Confirmar Contraseña</label>
    <input type="password" id="confirmarContra" [(ngModel)]="confirmarContra" />
    <ul class="requirements">
      <li [class.valid]="validations.minLength">✔ Longitud mínima (ej. 8 caracteres).</li>
      <li [class.valid]="validations.match">✔ Debe coincidir con la confirmación.</li>
      <li [class.valid]="validations.uppercase">✔ Mayúsculas.</li>
      <li [class.valid]="validations.lowercase">✔ Minúsculas.</li>
      <li [class.valid]="validations.numbers">✔ Números.</li>
      <li [class.valid]="validations.special">✔ Especiales (#,$,%,..).</li>
    </ul>
    
    <!-- Mensaje de error -->
    <div *ngIf="errorMessage" class="alert-error">
      <i class="fas fa-exclamation-circle"></i>
      {{ errorMessage }}
    </div>
    
    <!-- Mensaje de éxito -->
    <div *ngIf="successMessage" class="alert-success">
      <i class="fas fa-check-circle"></i>
      {{ successMessage }}
    </div>
    
    <div class="buttons">
      <button class="btn cancel" (click)="cancelar()">Cancelar</button>
      <button class="btn reset" [disabled]="!isValid() || !token || loading" (click)="restablecer()">
        <span *ngIf="!loading">Restablecer</span>
        <span *ngIf="loading">Restableciendo...</span>
      </button>
    </div>
  </div>
</div>
