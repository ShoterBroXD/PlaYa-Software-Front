<div class="categories-page">
  <div class="header">
    <div class="title-row">
      <h1 class="page-title">Listas</h1>
      <a routerLink="/playlists/my" class="btn btn-primary">Mis Playlists</a>
    </div>
    <div class="filter-buttons">
      <a routerLink="/categories" class="filter-button">Todos</a>
      <a routerLink="/categories/tracks" class="filter-button">Pistas</a>
      <a routerLink="/categories/playlists" class="filter-button active">Listas</a>
      <a routerLink="/categories/albums" class="filter-button">√Ålbumes</a>
    </div>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando playlists...</p>
  </div>

  <div
    *ngIf="errorMessage && !loading"
    [ngClass]="{ 'error-container': !isFallback, 'info-container': isFallback }"
  >
    <p>{{ errorMessage }}</p>
  </div>

  <div *ngIf="!loading" class="categories-grid">
    <div
      class="category-card playlist-card"
      *ngFor="let p of playlists; let i = index"
      [routerLink]="['/playlists', p.id]"
      [style.background]="getPlaylistGradient(i)">
      <div class="category-content">
        <h3 class="category-title">{{ p.name }}</h3>
        <p class="category-description">{{ p.songs?.length || 0 }} pistas</p>
      </div>
    </div>
  </div>
</div>
